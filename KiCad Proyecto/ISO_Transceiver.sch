EESchema Schematic File Version 2
LIBS:OBDII_IoT
LIBS:Connector
LIBS:ESP32-footprints-Shem-Lib
LIBS:ftdi
LIBS:STN2120
LIBS:PF_apiner-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 5 9
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Text HLabel 6150 2900 2    40   BiDi ~ 0
L-LINE
Text HLabel 3450 3150 0    40   Input ~ 0
ISO_K_TX
Text HLabel 5250 3150 0    40   Input ~ 0
ISO_L_TX
Text HLabel 4350 2900 2    40   BiDi ~ 0
K-LINE
$Comp
L LM339 U3
U 1 1 58FAFC7B
P 4800 4700
F 0 "U3" H 4800 4900 50  0000 L CNN
F 1 "LM339" H 4800 4500 50  0000 L CNN
F 2 "soic-sop-tssop:TSSOP-14_4.4x5mm_Pitch0.65mm" H 5141 4609 50  0001 L CNN
F 3 "" H 3400 4050 50  0000 C CNN
F 4 "IC QUAD DIFF COMPARATOR 14-TSSOP" H 4800 4700 60  0001 C CNN "Descripcion"
F 5 "Texas Instruments" H 4800 4700 60  0001 C CNN "Fabricante"
F 6 "LM339PWR" H 4800 4700 60  0001 C CNN "Nro. parte"
F 7 "296-6607-1-ND" H 4800 4700 60  0001 C CNN "Digikey/Mouser"
	1    4800 4700
	1    0    0    -1  
$EndComp
$Comp
L R R10
U 1 1 58FB19FB
P 4150 2650
F 0 "R10" V 4250 2650 50  0000 C CNN
F 1 "510 0.5W" V 4050 2650 50  0000 C CNN
F 2 "chip_rlc:r_0805" V 4080 2650 50  0001 C CNN
F 3 "" H 4150 2650 50  0000 C CNN
F 4 "Panasonic Electronic Components" H 4150 2650 60  0001 C CNN "Fabricante"
F 5 "RES SMD 510 OHM 5% 1/2W 0805" H 4150 2650 60  0001 C CNN "Descripcion"
F 6 "ERJ-P06J511V" H 4150 2650 60  0001 C CNN "Nro. parte"
F 7 "P510ADCT-ND" H 4150 2650 60  0001 C CNN "Digikey/Mouser"
	1    4150 2650
	-1   0    0    1   
$EndComp
$Comp
L NPN Q4
U 1 1 58FB1A06
P 4050 3150
F 0 "Q4" H 4000 3350 50  0000 R CNN
F 1 "MMBT3904" V 4300 3350 50  0000 R CNN
F 2 "to-sod-sot:SOT-23" H 4050 3150 60  0001 C CNN
F 3 "" H 4050 3150 60  0000 C CNN
F 4 "TRANS NPN 40V 0.2A SOT23" H 4050 3150 60  0001 C CNN "Descripcion"
F 5 "ON Semiconductor" H 4050 3150 60  0001 C CNN "Fabricante"
F 6 "MMBT3904LT3G" H 4050 3150 60  0001 C CNN "Nro. parte"
F 7 "MMBT3904LT3GOSCT-ND" H 4050 3150 60  0001 C CNN "Digikey/Mouser"
	1    4050 3150
	1    0    0    -1  
$EndComp
$Comp
L R R8
U 1 1 58FB1A1C
P 3650 4400
F 0 "R8" V 3730 4400 50  0000 C CNN
F 1 "10K" V 3650 4400 50  0000 C CNN
F 2 "chip_rlc:r_0402" V 3580 4400 50  0001 C CNN
F 3 "" H 3650 4400 50  0000 C CNN
F 4 "Yageo" H 3650 4400 60  0001 C CNN "Fabricante"
F 5 "RES SMD 10K OHM 5% 1/16W 0402" H 3650 4400 60  0001 C CNN "Descripcion"
F 6 "RC0402JR-0710KL" H 3650 4400 60  0001 C CNN "Nro. parte"
F 7 "311-10KJRCT-ND" H 3650 4400 60  0001 C CNN "Digikey/Mouser"
	1    3650 4400
	-1   0    0    1   
$EndComp
$Comp
L D_Schottky_BAT54SL D4
U 1 1 58FB2C23
P 4100 6100
F 0 "D4" H 4250 6000 50  0000 C CNN
F 1 "BAT54SL" H 4100 6200 50  0000 C CNN
F 2 "to-sod-sot:SOT-23" H 4100 6100 50  0001 C CNN
F 3 "" H 4100 6100 50  0000 C CNN
F 4 "Diode Array 1 Pair Series Connection Schottky 30V 200mA (DC) Surface Mount TO-236-3, SC-59, SOT-23-3" H 4100 6100 60  0001 C CNN "Descripcion"
F 5 "ON Semiconductor" H 4100 6100 60  0001 C CNN "Fabricante"
F 6 "BAT54SLT1G" H 4100 6100 60  0001 C CNN "Nro. parte"
F 7 "BAT54SLT1GOSCT-ND" H 4100 6100 60  0001 C CNN "Digikey/Mouser"
	1    4100 6100
	0    1    -1   0   
$EndComp
$Comp
L DLC_SW #PWR045
U 1 1 58FB4559
P 4150 2400
F 0 "#PWR045" H 4150 2490 20  0001 C CNN
F 1 "DLC_SW" H 4150 2500 30  0000 C CNN
F 2 "" H 4150 2400 60  0000 C CNN
F 3 "" H 4150 2400 60  0000 C CNN
	1    4150 2400
	1    0    0    -1  
$EndComp
$Comp
L R R7
U 1 1 58FB45DB
P 3650 3150
F 0 "R7" V 3730 3150 50  0000 C CNN
F 1 "1K" V 3650 3150 50  0000 C CNN
F 2 "chip_rlc:r_0402" V 3580 3150 50  0001 C CNN
F 3 "" H 3650 3150 50  0000 C CNN
F 4 "Yageo" H 3650 3150 60  0001 C CNN "Fabricante"
F 5 "RES SMD 1K OHM 5% 1/16W 0402" H 3650 3150 60  0001 C CNN "Descripcion"
F 6 "RC0402JR-071KL" H 3650 3150 60  0001 C CNN "Nro. parte"
F 7 "311-1.0KJRCT-ND" H 3650 3150 60  0001 C CNN "Digikey/Mouser"
	1    3650 3150
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR046
U 1 1 58FB47BB
P 4150 3450
F 0 "#PWR046" H 4150 3200 50  0001 C CNN
F 1 "GND" H 4150 3300 50  0001 C CNN
F 2 "" H 4150 3450 50  0000 C CNN
F 3 "" H 4150 3450 50  0000 C CNN
	1    4150 3450
	1    0    0    -1  
$EndComp
$Comp
L R R14
U 1 1 58FB4DD5
P 5950 2650
F 0 "R14" V 6050 2650 50  0000 C CNN
F 1 "510 0.5W" V 5850 2650 50  0000 C CNN
F 2 "chip_rlc:r_0805" V 5880 2650 50  0001 C CNN
F 3 "" H 5950 2650 50  0000 C CNN
F 4 "Panasonic Electronic Components" H 5950 2650 60  0001 C CNN "Fabricante"
F 5 "RES SMD 510 OHM 5% 1/2W 0805" H 5950 2650 60  0001 C CNN "Descripcion"
F 6 "ERJ-P06J511V" H 5950 2650 60  0001 C CNN "Nro. parte"
F 7 "P510ADCT-ND" H 5950 2650 60  0001 C CNN "Digikey/Mouser"
	1    5950 2650
	-1   0    0    1   
$EndComp
$Comp
L NPN Q5
U 1 1 58FB4DDF
P 5850 3150
F 0 "Q5" H 5800 3350 50  0000 R CNN
F 1 "MMBT3904" V 6100 3350 50  0000 R CNN
F 2 "to-sod-sot:SOT-23" H 5850 3150 60  0001 C CNN
F 3 "" H 5850 3150 60  0000 C CNN
F 4 "TRANS NPN 40V 0.2A SOT23" H 5850 3150 60  0001 C CNN "Descripcion"
F 5 "ON Semiconductor" H 5850 3150 60  0001 C CNN "Fabricante"
F 6 "MMBT3904LT3G" H 5850 3150 60  0001 C CNN "Nro. parte"
F 7 "MMBT3904LT3GOSCT-ND" H 5850 3150 60  0001 C CNN "Digikey/Mouser"
	1    5850 3150
	1    0    0    -1  
$EndComp
$Comp
L DLC_SW #PWR047
U 1 1 58FB4DE5
P 5950 2400
F 0 "#PWR047" H 5950 2490 20  0001 C CNN
F 1 "DLC_SW" H 5950 2500 30  0000 C CNN
F 2 "" H 5950 2400 60  0000 C CNN
F 3 "" H 5950 2400 60  0000 C CNN
	1    5950 2400
	1    0    0    -1  
$EndComp
$Comp
L R R13
U 1 1 58FB4DEF
P 5450 3150
F 0 "R13" V 5530 3150 50  0000 C CNN
F 1 "1K" V 5450 3150 50  0000 C CNN
F 2 "chip_rlc:r_0402" V 5380 3150 50  0001 C CNN
F 3 "" H 5450 3150 50  0000 C CNN
F 4 "Yageo" H 5450 3150 60  0001 C CNN "Fabricante"
F 5 "RES SMD 1K OHM 5% 1/16W 0402" H 5450 3150 60  0001 C CNN "Descripcion"
F 6 "RC0402JR-071KL" H 5450 3150 60  0001 C CNN "Nro. parte"
F 7 "311-1.0KJRCT-ND" H 5450 3150 60  0001 C CNN "Digikey/Mouser"
	1    5450 3150
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR048
U 1 1 58FB4DF5
P 5950 3450
F 0 "#PWR048" H 5950 3200 50  0001 C CNN
F 1 "GND" H 5950 3300 50  0001 C CNN
F 2 "" H 5950 3450 50  0000 C CNN
F 3 "" H 5950 3450 50  0000 C CNN
	1    5950 3450
	1    0    0    -1  
$EndComp
$Comp
L R R11
U 1 1 58FB557C
P 4250 4800
F 0 "R11" V 4330 4800 50  0000 C CNN
F 1 "10K" V 4250 4800 50  0000 C CNN
F 2 "chip_rlc:r_0402" V 4180 4800 50  0001 C CNN
F 3 "" H 4250 4800 50  0000 C CNN
F 4 "Yageo" H 4250 4800 60  0001 C CNN "Fabricante"
F 5 "RES SMD 10K OHM 5% 1/16W 0402" H 4250 4800 60  0001 C CNN "Descripcion"
F 6 "RC0402JR-0710KL" H 4250 4800 60  0001 C CNN "Nro. parte"
F 7 "311-10KJRCT-ND" H 4250 4800 60  0001 C CNN "Digikey/Mouser"
	1    4250 4800
	0    -1   -1   0   
$EndComp
Text HLabel 4050 4800 0    40   BiDi ~ 0
K-LINE
$Comp
L DLC_SW #PWR049
U 1 1 58FB56FF
P 4700 4200
F 0 "#PWR049" H 4700 4290 20  0001 C CNN
F 1 "DLC_SW" H 4700 4300 30  0000 C CNN
F 2 "" H 4700 4200 60  0000 C CNN
F 3 "" H 4700 4200 60  0000 C CNN
	1    4700 4200
	1    0    0    -1  
$EndComp
$Comp
L C C13
U 1 1 58FB6CF6
P 4400 6100
F 0 "C13" V 4300 6050 50  0000 L CNN
F 1 "0.1uF x 25V" V 4500 5850 50  0000 L CNN
F 2 "chip_rlc:c_0603" H 4438 5950 50  0001 C CNN
F 3 "" H 4400 6100 50  0000 C CNN
F 4 "CAP CER 0.1UF 25V X7R 0603" H 4400 6100 60  0001 C CNN "Descripcion"
F 5 "Yageo" H 4400 6100 60  0001 C CNN "Fabricante"
F 6 "CC0603KRX7R8BB104" H 4400 6100 60  0001 C CNN "Nro. parte"
F 7 "311-1341-1-ND" H 4400 6100 60  0001 C CNN "Digikey/Mouser"
	1    4400 6100
	1    0    0    -1  
$EndComp
$Comp
L DLC_SW #PWR050
U 1 1 58FB717D
P 6050 4200
F 0 "#PWR050" H 6050 4290 20  0001 C CNN
F 1 "DLC_SW" H 6050 4300 30  0000 C CNN
F 2 "" H 6050 4200 60  0000 C CNN
F 3 "" H 6050 4200 60  0000 C CNN
	1    6050 4200
	1    0    0    -1  
$EndComp
$Comp
L C C15
U 1 1 58FB71A2
P 6050 4450
F 0 "C15" V 5950 4400 50  0000 L CNN
F 1 "0.1uF x 25V" V 6150 4250 40  0000 L CNN
F 2 "chip_rlc:c_0603" H 6088 4300 50  0001 C CNN
F 3 "" H 6050 4450 50  0000 C CNN
F 4 "CAP CER 0.1UF 25V X7R 0603" H 6050 4450 60  0001 C CNN "Descripcion"
F 5 "Yageo" H 6050 4450 60  0001 C CNN "Fabricante"
F 6 "CC0603KRX7R8BB104" H 6050 4450 60  0001 C CNN "Nro. parte"
F 7 "311-1341-1-ND" H 6050 4450 60  0001 C CNN "Digikey/Mouser"
	1    6050 4450
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR051
U 1 1 58FB7303
P 4700 5050
F 0 "#PWR051" H 4700 4800 50  0001 C CNN
F 1 "GND" H 4700 4900 50  0001 C CNN
F 2 "" H 4700 5050 50  0000 C CNN
F 3 "" H 4700 5050 50  0000 C CNN
	1    4700 5050
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR052
U 1 1 58FB7392
P 6050 4700
F 0 "#PWR052" H 6050 4450 50  0001 C CNN
F 1 "GND" H 6050 4550 50  0001 C CNN
F 2 "" H 6050 4700 50  0000 C CNN
F 3 "" H 6050 4700 50  0000 C CNN
	1    6050 4700
	1    0    0    -1  
$EndComp
Text Notes 6300 4800 1    40   ~ 0
Ubicar cerca del LM339
$Comp
L R R9
U 1 1 58FB7561
P 3650 4800
F 0 "R9" V 3730 4800 50  0000 C CNN
F 1 "10K" V 3650 4800 50  0000 C CNN
F 2 "chip_rlc:r_0402" V 3580 4800 50  0001 C CNN
F 3 "" H 3650 4800 50  0000 C CNN
F 4 "Yageo" H 3650 4800 60  0001 C CNN "Fabricante"
F 5 "RES SMD 10K OHM 5% 1/16W 0402" H 3650 4800 60  0001 C CNN "Descripcion"
F 6 "RC0402JR-0710KL" H 3650 4800 60  0001 C CNN "Nro. parte"
F 7 "311-10KJRCT-ND" H 3650 4800 60  0001 C CNN "Digikey/Mouser"
	1    3650 4800
	-1   0    0    1   
$EndComp
$Comp
L DLC_SW #PWR053
U 1 1 58FB7632
P 3650 4200
F 0 "#PWR053" H 3650 4290 20  0001 C CNN
F 1 "DLC_SW" H 3650 4300 30  0000 C CNN
F 2 "" H 3650 4200 60  0000 C CNN
F 3 "" H 3650 4200 60  0000 C CNN
	1    3650 4200
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR054
U 1 1 58FB7688
P 3650 5050
F 0 "#PWR054" H 3650 4800 50  0001 C CNN
F 1 "GND" H 3650 4900 50  0001 C CNN
F 2 "" H 3650 5050 50  0000 C CNN
F 3 "" H 3650 5050 50  0000 C CNN
	1    3650 5050
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR055
U 1 1 58FB9579
P 4400 6450
F 0 "#PWR055" H 4400 6200 50  0001 C CNN
F 1 "GND" H 4400 6300 50  0001 C CNN
F 2 "" H 4400 6450 50  0000 C CNN
F 3 "" H 4400 6450 50  0000 C CNN
	1    4400 6450
	1    0    0    -1  
$EndComp
Text HLabel 5400 4700 2    40   Output ~ 0
ISO_RX
$Comp
L +3.3V #PWR056
U 1 1 58FBB38D
P 5200 4200
F 0 "#PWR056" H 5250 4250 20  0001 C CNN
F 1 "+3.3V" H 5200 4300 30  0000 C CNN
F 2 "" H -1550 -500 60  0000 C CNN
F 3 "" H -1550 -500 60  0000 C CNN
	1    5200 4200
	1    0    0    -1  
$EndComp
$Comp
L R R12
U 1 1 58FBB473
P 5200 4400
F 0 "R12" V 5280 4400 50  0000 C CNN
F 1 "10K" V 5200 4400 50  0000 C CNN
F 2 "chip_rlc:r_0402" V 5130 4400 50  0001 C CNN
F 3 "" H 5200 4400 50  0000 C CNN
F 4 "Yageo" H 5200 4400 60  0001 C CNN "Fabricante"
F 5 "RES SMD 10K OHM 5% 1/16W 0402" H 5200 4400 60  0001 C CNN "Descripcion"
F 6 "RC0402JR-0710KL" H 5200 4400 60  0001 C CNN "Nro. parte"
F 7 "311-10KJRCT-ND" H 5200 4400 60  0001 C CNN "Digikey/Mouser"
	1    5200 4400
	-1   0    0    1   
$EndComp
$Comp
L DLC #PWR057
U 1 1 58FB941A
P 4400 5750
F 0 "#PWR057" H 4400 5840 20  0001 C CNN
F 1 "DLC" H 4400 5850 30  0000 C CNN
F 2 "" H 4400 5750 60  0000 C CNN
F 3 "" H 4400 5750 60  0000 C CNN
	1    4400 5750
	1    0    0    -1  
$EndComp
Text HLabel 3850 6100 0    40   BiDi ~ 0
K-LINE
Wire Wire Line
	3850 6100 3900 6100
Wire Wire Line
	4400 4800 4500 4800
Connection ~ 4400 5800
Wire Wire Line
	4100 5800 4400 5800
Wire Wire Line
	4400 5750 4400 5950
Connection ~ 4400 6400
Wire Wire Line
	4100 6400 4400 6400
Wire Wire Line
	4400 6450 4400 6250
Connection ~ 5200 4700
Wire Wire Line
	5200 4550 5200 4700
Wire Wire Line
	5100 4700 5400 4700
Wire Wire Line
	5200 4250 5200 4200
Wire Wire Line
	4700 4400 4700 4200
Connection ~ 3650 4600
Wire Wire Line
	3650 4600 4500 4600
Wire Wire Line
	4700 5050 4700 5000
Wire Wire Line
	3650 5050 3650 4950
Wire Wire Line
	3650 4550 3650 4650
Wire Wire Line
	3650 4200 3650 4250
Wire Wire Line
	4100 4800 4050 4800
Wire Wire Line
	6050 4600 6050 4700
Wire Wire Line
	6050 4300 6050 4200
Wire Wire Line
	5950 3450 5950 3350
Wire Wire Line
	5950 2500 5950 2400
Connection ~ 5950 2900
Wire Wire Line
	6150 2900 5950 2900
Wire Wire Line
	5950 2950 5950 2800
Wire Wire Line
	5600 3150 5650 3150
Wire Wire Line
	5250 3150 5300 3150
Wire Wire Line
	4150 3450 4150 3350
Wire Wire Line
	4150 2500 4150 2400
Connection ~ 4150 2900
Wire Wire Line
	4350 2900 4150 2900
Wire Wire Line
	4150 2950 4150 2800
Wire Wire Line
	3800 3150 3850 3150
Wire Wire Line
	3450 3150 3500 3150
$Comp
L D_Schottky_BAT54SL D5
U 1 1 59003DD4
P 5250 6100
F 0 "D5" H 5400 6000 50  0000 C CNN
F 1 "BAT54SL" H 5250 6200 50  0000 C CNN
F 2 "to-sod-sot:SOT-23" H 5250 6100 50  0001 C CNN
F 3 "" H 5250 6100 50  0000 C CNN
F 4 "Diode Array 1 Pair Series Connection Schottky 30V 200mA (DC) Surface Mount TO-236-3, SC-59, SOT-23-3" H 5250 6100 60  0001 C CNN "Descripcion"
F 5 "ON Semiconductor" H 5250 6100 60  0001 C CNN "Fabricante"
F 6 "BAT54SLT1G" H 5250 6100 60  0001 C CNN "Nro. parte"
F 7 "BAT54SLT1GOSCT-ND" H 5250 6100 60  0001 C CNN "Digikey/Mouser"
	1    5250 6100
	0    1    -1   0   
$EndComp
$Comp
L C C14
U 1 1 59003DDE
P 5550 6100
F 0 "C14" V 5450 6050 50  0000 L CNN
F 1 "0.1uF x 25V" V 5650 5850 50  0000 L CNN
F 2 "chip_rlc:c_0603" H 5588 5950 50  0001 C CNN
F 3 "" H 5550 6100 50  0000 C CNN
F 4 "CAP CER 0.1UF 25V X7R 0603" H 5550 6100 60  0001 C CNN "Descripcion"
F 5 "Yageo" H 5550 6100 60  0001 C CNN "Fabricante"
F 6 "CC0603KRX7R8BB104" H 5550 6100 60  0001 C CNN "Nro. parte"
F 7 "311-1341-1-ND" H 5550 6100 60  0001 C CNN "Digikey/Mouser"
	1    5550 6100
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR058
U 1 1 59003DE4
P 5550 6450
F 0 "#PWR058" H 5550 6200 50  0001 C CNN
F 1 "GND" H 5550 6300 50  0001 C CNN
F 2 "" H 5550 6450 50  0000 C CNN
F 3 "" H 5550 6450 50  0000 C CNN
	1    5550 6450
	1    0    0    -1  
$EndComp
$Comp
L DLC #PWR059
U 1 1 59003DEA
P 5550 5750
F 0 "#PWR059" H 5550 5840 20  0001 C CNN
F 1 "DLC" H 5550 5850 30  0000 C CNN
F 2 "" H 5550 5750 60  0000 C CNN
F 3 "" H 5550 5750 60  0000 C CNN
	1    5550 5750
	1    0    0    -1  
$EndComp
Wire Wire Line
	5550 6450 5550 6250
Wire Wire Line
	5250 6400 5550 6400
Connection ~ 5550 6400
Wire Wire Line
	5550 5750 5550 5950
Wire Wire Line
	5250 5800 5550 5800
Connection ~ 5550 5800
Wire Wire Line
	5000 6100 5050 6100
Text HLabel 5000 6100 0    40   BiDi ~ 0
L-LINE
$EndSCHEMATC
